{"ast":null,"code":"var _jsxFileName = \"D:\\\\basic-add-append-delete\\\\src\\\\Component\\\\Form.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Form = () => {\n  _s();\n\n  const [values, setValues] = useState({\n    firstName: \"\",\n    lastName: \"\",\n    email: \"\",\n    phone: \"\",\n    sex: \"\",\n    nameError: false\n  });\n  console.log(values);\n\n  const handleOnchange = event => {\n    setValues({ ...values,\n      [event.target.name]: event.target.value\n    });\n  };\n\n  const handleChangeName = event => {\n    setValues({ ...values,\n      [event.target.name]: event.target.value.replace(/[^a-zA-Zก-ฮะ-์]/gi, \"\"),\n      nameError: false\n    });\n  };\n\n  const handleChangeNumber = event => {\n    setValues({ ...values,\n      [event.target.name]: event.target.value.replace(/\\D/g, \"\"),\n      [event.target.name + \"Error\"]: false\n    });\n  };\n\n  const handleOnsubmit = event => {\n    event.preventDefault();\n\n    if (!values.fname || !values.lname) {\n      setValues({ ...values,\n        nameError: true\n      });\n      return;\n    }\n\n    if (!values.email.includes(\"@\") || !values.email.includes(\".\")) {\n      setValues({ ...values,\n        emailError: true\n      });\n      return;\n    }\n\n    if (values.pid.length !== 13) {\n      setValues({ ...values,\n        pidError: true\n      });\n      return;\n    }\n\n    if (values.password.length < 8 || values.password !== values.passwordRepeat) {\n      setValues({ ...values,\n        passwordError: true\n      });\n      return;\n    }\n\n    const jsonData = {\n      email: values.email,\n      fname: values.fname,\n      lname: values.lname,\n      pid: values.pid,\n      password: values.password,\n      key: \"@ud!t0r2ol9\"\n    };\n    axios.post(\"http://pmcorporation.fortiddns.com:3000/register\", jsonData).then(res => {\n      if (res.data.message.includes(jsonData.pid)) {\n        alert(\"ลงทะเบียนซ้ำ\");\n        window.location = \"/\";\n      }\n\n      if (res.data.status === \"ok\") {\n        alert(\"ลงทะเบียนเสร็จสิ้น\");\n        window.location = \"/\";\n      }\n    }).catch(error => {\n      console.error(\"Error:\", error);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    onSubmit: handleOnsubmit,\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      style: {\n        textAlign: \"center\"\n      },\n      children: \"Demo Form\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"firstName\",\n      onChange: handleChangeName,\n      placeholder: \"First name\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"lastName\",\n      onChange: handleChangeName,\n      placeholder: \"Last name\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"email\",\n      onChange: handleOnchange,\n      placeholder: \"email\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"phone\",\n      onChange: handleChangeNumber,\n      placeholder: \"phone\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"gender\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"male\",\n        children: \"Male\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"radio\",\n        name: \"sex\",\n        onChange: handleOnchange,\n        id: \"male\",\n        value: \"male\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"female\",\n        children: \"Female\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"radio\",\n        name: \"sex\",\n        onChange: handleOnchange,\n        id: \"female\",\n        value: \"female\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      children: \"Update\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Form, \"Lp+/AKZPxQ/bhv8zvsd+nD0sfnM=\");\n\n_c = Form;\nexport default Form;\n\nvar _c;\n\n$RefreshReg$(_c, \"Form\");","map":{"version":3,"sources":["D:/basic-add-append-delete/src/Component/Form.js"],"names":["useState","axios","Form","values","setValues","firstName","lastName","email","phone","sex","nameError","console","log","handleOnchange","event","target","name","value","handleChangeName","replace","handleChangeNumber","handleOnsubmit","preventDefault","fname","lname","includes","emailError","pid","length","pidError","password","passwordRepeat","passwordError","jsonData","key","post","then","res","data","message","alert","window","location","status","catch","error","textAlign"],"mappings":"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","sourcesContent":["import { useState } from \"react\";\r\nimport axios from \"axios\";\r\nconst Form = () => {\r\n  const [values, setValues] = useState({\r\n    firstName: \"\",\r\n    lastName: \"\",\r\n    email: \"\",\r\n    phone: \"\",\r\n    sex: \"\",\r\n    nameError: false,\r\n  });\r\n\r\n  console.log(values);\r\n  const handleOnchange = (event) => {\r\n    setValues({ ...values, [event.target.name]: event.target.value });\r\n  };\r\n\r\n  const handleChangeName = (event) => {\r\n    setValues({\r\n      ...values,\r\n      [event.target.name]: event.target.value.replace(/[^a-zA-Zก-ฮะ-์]/gi, \"\"),\r\n      nameError: false,\r\n    });\r\n  };\r\n  const handleChangeNumber = (event) => {\r\n    setValues({\r\n      ...values,\r\n      [event.target.name]: event.target.value.replace(/\\D/g, \"\"),\r\n      [event.target.name + \"Error\"]: false,\r\n    });\r\n  };\r\n\r\n  const handleOnsubmit = (event) => {\r\n    event.preventDefault();\r\n    if (!values.fname || !values.lname) {\r\n      setValues({ ...values, nameError: true });\r\n      return;\r\n    }\r\n    if (!values.email.includes(\"@\") || !values.email.includes(\".\")) {\r\n      setValues({ ...values, emailError: true });\r\n      return;\r\n    }\r\n\r\n    if (values.pid.length !== 13) {\r\n      setValues({ ...values, pidError: true });\r\n      return;\r\n    }\r\n    if (\r\n      values.password.length < 8 ||\r\n      values.password !== values.passwordRepeat\r\n    ) {\r\n      setValues({ ...values, passwordError: true });\r\n      return;\r\n    }\r\n    const jsonData = {\r\n      email: values.email,\r\n      fname: values.fname,\r\n      lname: values.lname,\r\n      pid: values.pid,\r\n      password: values.password,\r\n      key: \"@ud!t0r2ol9\",\r\n    };\r\n\r\n    axios\r\n      .post(\"http://pmcorporation.fortiddns.com:3000/register\", jsonData)\r\n      .then((res) => {\r\n        if (res.data.message.includes(jsonData.pid)) {\r\n          alert(\"ลงทะเบียนซ้ำ\");\r\n          window.location = \"/\";\r\n        }\r\n        if (res.data.status === \"ok\") {\r\n          alert(\"ลงทะเบียนเสร็จสิ้น\");\r\n          window.location = \"/\";\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error:\", error);\r\n      });\r\n  };\r\n  return (\r\n    <div onSubmit={handleOnsubmit}>\r\n      <h1 style={{ textAlign: \"center\" }}>Demo Form</h1>\r\n      <input\r\n        name=\"firstName\"\r\n        onChange={handleChangeName}\r\n        placeholder=\"First name\"\r\n      />\r\n      <input\r\n        name=\"lastName\"\r\n        onChange={handleChangeName}\r\n        placeholder=\"Last name\"\r\n      />\r\n      <input name=\"email\" onChange={handleOnchange} placeholder=\"email\" />\r\n      <input name=\"phone\" onChange={handleChangeNumber} placeholder=\"phone\" />\r\n      <div className=\"gender\">\r\n        <label htmlFor=\"male\">Male</label>\r\n        <input\r\n          type=\"radio\"\r\n          name=\"sex\"\r\n          onChange={handleOnchange}\r\n          id=\"male\"\r\n          value=\"male\"\r\n        />\r\n        <label htmlFor=\"female\">Female</label>\r\n        <input\r\n          type=\"radio\"\r\n          name=\"sex\"\r\n          onChange={handleOnchange}\r\n          id=\"female\"\r\n          value=\"female\"\r\n        />\r\n      </div>\r\n      <button type=\"submit\">Update</button>\r\n    </div>\r\n  );\r\n};\r\nexport default Form;\r\n"]},"metadata":{},"sourceType":"module"}