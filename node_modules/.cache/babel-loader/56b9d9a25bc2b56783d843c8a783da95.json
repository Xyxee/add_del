{"ast":null,"code":"var _jsxFileName = \"D:\\\\basic-add-append-delete\\\\src\\\\Component\\\\Form.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Form = props => {\n  _s();\n\n  const [values, setValues] = useState({\n    firstName: \"\",\n    lastName: \"\",\n    email: \"\",\n    phone: \"\",\n    sex: \"\",\n    nameError: false,\n    emailError: false,\n    phoneError: false,\n    sexError: false\n  });\n\n  const handleOnchange = event => {\n    setValues({ ...values,\n      [event.target.name]: event.target.value\n    });\n  };\n\n  const handleChangeName = event => {\n    setValues({ ...values,\n      [event.target.name]: event.target.value.replace(/[^a-zA-Zก-ฮะ-์]/gi, \"\"),\n      nameError: false\n    });\n  };\n\n  const handleChangeNumber = event => {\n    setValues({ ...values,\n      [event.target.name]: event.target.value.replace(/\\D/g, \"\"),\n      [event.target.name + \"Error\"]: false\n    });\n  };\n\n  const handleOnsubmit = event => {\n    event.preventDefault();\n\n    if (!values.firstName || !values.lastName) {\n      setValues({ ...values,\n        nameError: true\n      });\n      return;\n    }\n\n    if (!values.email.includes(\"@\") || !values.email.includes(\".\")) {\n      setValues({ ...values,\n        emailError: true\n      });\n      return;\n    }\n\n    if (!values.phone) {\n      setValues({ ...values,\n        phoneError: true\n      });\n      return;\n    }\n\n    if (!values.sex) {\n      setValues({ ...values,\n        sexError: true\n      });\n      return;\n    }\n\n    const jsonData = {\n      firstName: values.firstName,\n      lastName: values.lastName,\n      email: values.email,\n      phone: values.phone,\n      sex: values.sex\n    };\n    axios.post(\"http://localhost:3333/append\", jsonData).then(res => {\n      if (res.data.message !== undefined && res.data.message.includes(\"duplicate\")) {\n        alert(jsonData.email + \" ลงทะเบียนซ้ำ\");\n      }\n\n      if (res.data.status === \"ok\") {\n        props.onAppend(res.data.result);\n        setValues({\n          firstName: \"\",\n          lastName: \"\",\n          email: \"\",\n          phone: \"\",\n          sex: \"\"\n        });\n      }\n\n      setValues({\n        firstName: \"\",\n        lastName: \"\",\n        email: \"\",\n        phone: \"\",\n        sex: \"\"\n      });\n    }).catch(error => {\n      console.error(\"Error:\", error);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleOnsubmit,\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      style: {\n        textAlign: \"center\"\n      },\n      children: \"Demo Form\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"firstName\",\n      value: values.firstName,\n      type: \"text\",\n      onChange: handleChangeName,\n      placeholder: \"First name\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"lastName\",\n      value: values.lastName,\n      type: \"text\",\n      onChange: handleChangeName,\n      placeholder: \"Last name\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this), values.nameError ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"textError\",\n      children: \"\\u0E0A\\u0E37\\u0E48\\u0E2D-\\u0E19\\u0E32\\u0E21\\u0E2A\\u0E01\\u0E38\\u0E25\\u0E17\\u0E35\\u0E48\\u0E04\\u0E38\\u0E13\\u0E1B\\u0E49\\u0E2D\\u0E19\\u0E44\\u0E21\\u0E48\\u0E16\\u0E39\\u0E01\\u0E15\\u0E49\\u0E2D\\u0E07\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }, this) : \"\", /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"email\",\n      value: values.email,\n      type: \"email\",\n      onChange: handleOnchange,\n      placeholder: \"email\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this), values.emailError ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"textError\",\n      children: \"\\u0E0A\\u0E37\\u0E48\\u0E2D-\\u0E19\\u0E32\\u0E21\\u0E2A\\u0E01\\u0E38\\u0E25\\u0E17\\u0E35\\u0E48\\u0E04\\u0E38\\u0E13\\u0E1B\\u0E49\\u0E2D\\u0E19\\u0E44\\u0E21\\u0E48\\u0E16\\u0E39\\u0E01\\u0E15\\u0E49\\u0E2D\\u0E07\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 9\n    }, this) : \"\", /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"phone\",\n      value: values.phone,\n      type: \"text\",\n      onChange: handleChangeNumber,\n      placeholder: \"phone\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"gender\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"male\",\n        children: \"Male\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"radio\",\n        name: \"sex\",\n        onChange: handleOnchange,\n        id: \"male\",\n        value: \"male\",\n        checked: values.sex === \"male\" ? true : false\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"female\",\n        children: \"Female\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"radio\",\n        name: \"sex\",\n        onChange: handleOnchange,\n        id: \"female\",\n        value: \"female\",\n        checked: values.sex === \"female\" ? true : false\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      children: \"Update\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Form, \"vXWIfYpCu54d2yLv1JWtoMqiMHs=\");\n\n_c = Form;\nexport default Form;\n\nvar _c;\n\n$RefreshReg$(_c, \"Form\");","map":{"version":3,"sources":["D:/basic-add-append-delete/src/Component/Form.js"],"names":["useState","axios","Form","props","values","setValues","firstName","lastName","email","phone","sex","nameError","emailError","phoneError","sexError","handleOnchange","event","target","name","value","handleChangeName","replace","handleChangeNumber","handleOnsubmit","preventDefault","includes","jsonData","post","then","res","data","message","undefined","alert","status","onAppend","result","catch","error","console","textAlign"],"mappings":";;;AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AACA,MAAMC,IAAI,GAAIC,KAAD,IAAW;AAAA;;AACtB,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBL,QAAQ,CAAC;AACnCM,IAAAA,SAAS,EAAE,EADwB;AAEnCC,IAAAA,QAAQ,EAAE,EAFyB;AAGnCC,IAAAA,KAAK,EAAE,EAH4B;AAInCC,IAAAA,KAAK,EAAE,EAJ4B;AAKnCC,IAAAA,GAAG,EAAE,EAL8B;AAMnCC,IAAAA,SAAS,EAAE,KANwB;AAOnCC,IAAAA,UAAU,EAAE,KAPuB;AAQnCC,IAAAA,UAAU,EAAE,KARuB;AASnCC,IAAAA,QAAQ,EAAE;AATyB,GAAD,CAApC;;AAYA,QAAMC,cAAc,GAAIC,KAAD,IAAW;AAChCX,IAAAA,SAAS,CAAC,EAAE,GAAGD,MAAL;AAAa,OAACY,KAAK,CAACC,MAAN,CAAaC,IAAd,GAAqBF,KAAK,CAACC,MAAN,CAAaE;AAA/C,KAAD,CAAT;AACD,GAFD;;AAIA,QAAMC,gBAAgB,GAAIJ,KAAD,IAAW;AAClCX,IAAAA,SAAS,CAAC,EACR,GAAGD,MADK;AAER,OAACY,KAAK,CAACC,MAAN,CAAaC,IAAd,GAAqBF,KAAK,CAACC,MAAN,CAAaE,KAAb,CAAmBE,OAAnB,CAA2B,mBAA3B,EAAgD,EAAhD,CAFb;AAGRV,MAAAA,SAAS,EAAE;AAHH,KAAD,CAAT;AAKD,GAND;;AAOA,QAAMW,kBAAkB,GAAIN,KAAD,IAAW;AACpCX,IAAAA,SAAS,CAAC,EACR,GAAGD,MADK;AAER,OAACY,KAAK,CAACC,MAAN,CAAaC,IAAd,GAAqBF,KAAK,CAACC,MAAN,CAAaE,KAAb,CAAmBE,OAAnB,CAA2B,KAA3B,EAAkC,EAAlC,CAFb;AAGR,OAACL,KAAK,CAACC,MAAN,CAAaC,IAAb,GAAoB,OAArB,GAA+B;AAHvB,KAAD,CAAT;AAKD,GAND;;AAQA,QAAMK,cAAc,GAAIP,KAAD,IAAW;AAChCA,IAAAA,KAAK,CAACQ,cAAN;;AAEA,QAAI,CAACpB,MAAM,CAACE,SAAR,IAAqB,CAACF,MAAM,CAACG,QAAjC,EAA2C;AACzCF,MAAAA,SAAS,CAAC,EAAE,GAAGD,MAAL;AAAaO,QAAAA,SAAS,EAAE;AAAxB,OAAD,CAAT;AACA;AACD;;AACD,QAAI,CAACP,MAAM,CAACI,KAAP,CAAaiB,QAAb,CAAsB,GAAtB,CAAD,IAA+B,CAACrB,MAAM,CAACI,KAAP,CAAaiB,QAAb,CAAsB,GAAtB,CAApC,EAAgE;AAC9DpB,MAAAA,SAAS,CAAC,EAAE,GAAGD,MAAL;AAAaQ,QAAAA,UAAU,EAAE;AAAzB,OAAD,CAAT;AACA;AACD;;AACD,QAAI,CAACR,MAAM,CAACK,KAAZ,EAAmB;AACjBJ,MAAAA,SAAS,CAAC,EAAE,GAAGD,MAAL;AAAaS,QAAAA,UAAU,EAAE;AAAzB,OAAD,CAAT;AACA;AACD;;AACD,QAAI,CAACT,MAAM,CAACM,GAAZ,EAAiB;AACfL,MAAAA,SAAS,CAAC,EAAE,GAAGD,MAAL;AAAaU,QAAAA,QAAQ,EAAE;AAAvB,OAAD,CAAT;AACA;AACD;;AACD,UAAMY,QAAQ,GAAG;AACfpB,MAAAA,SAAS,EAAEF,MAAM,CAACE,SADH;AAEfC,MAAAA,QAAQ,EAAEH,MAAM,CAACG,QAFF;AAGfC,MAAAA,KAAK,EAAEJ,MAAM,CAACI,KAHC;AAIfC,MAAAA,KAAK,EAAEL,MAAM,CAACK,KAJC;AAKfC,MAAAA,GAAG,EAAEN,MAAM,CAACM;AALG,KAAjB;AAQAT,IAAAA,KAAK,CACF0B,IADH,CACQ,8BADR,EACwCD,QADxC,EAEGE,IAFH,CAESC,GAAD,IAAS;AACb,UACEA,GAAG,CAACC,IAAJ,CAASC,OAAT,KAAqBC,SAArB,IACAH,GAAG,CAACC,IAAJ,CAASC,OAAT,CAAiBN,QAAjB,CAA0B,WAA1B,CAFF,EAGE;AACAQ,QAAAA,KAAK,CAACP,QAAQ,CAAClB,KAAT,GAAiB,eAAlB,CAAL;AACD;;AACD,UAAIqB,GAAG,CAACC,IAAJ,CAASI,MAAT,KAAoB,IAAxB,EAA8B;AAC5B/B,QAAAA,KAAK,CAACgC,QAAN,CAAeN,GAAG,CAACC,IAAJ,CAASM,MAAxB;AACA/B,QAAAA,SAAS,CAAC;AACRC,UAAAA,SAAS,EAAE,EADH;AAERC,UAAAA,QAAQ,EAAE,EAFF;AAGRC,UAAAA,KAAK,EAAE,EAHC;AAIRC,UAAAA,KAAK,EAAE,EAJC;AAKRC,UAAAA,GAAG,EAAE;AALG,SAAD,CAAT;AAOD;;AACDL,MAAAA,SAAS,CAAC;AACRC,QAAAA,SAAS,EAAE,EADH;AAERC,QAAAA,QAAQ,EAAE,EAFF;AAGRC,QAAAA,KAAK,EAAE,EAHC;AAIRC,QAAAA,KAAK,EAAE,EAJC;AAKRC,QAAAA,GAAG,EAAE;AALG,OAAD,CAAT;AAOD,KA1BH,EA2BG2B,KA3BH,CA2BUC,KAAD,IAAW;AAChBC,MAAAA,OAAO,CAACD,KAAR,CAAc,QAAd,EAAwBA,KAAxB;AACD,KA7BH;AA8BD,GAzDD;;AA0DA,sBACE;AAAM,IAAA,QAAQ,EAAEf,cAAhB;AAAA,4BACE;AAAI,MAAA,KAAK,EAAE;AAAEiB,QAAAA,SAAS,EAAE;AAAb,OAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AACE,MAAA,IAAI,EAAC,WADP;AAEE,MAAA,KAAK,EAAEpC,MAAM,CAACE,SAFhB;AAGE,MAAA,IAAI,EAAC,MAHP;AAIE,MAAA,QAAQ,EAAEc,gBAJZ;AAKE,MAAA,WAAW,EAAC;AALd;AAAA;AAAA;AAAA;AAAA,YAFF,eAUE;AACE,MAAA,IAAI,EAAC,UADP;AAEE,MAAA,KAAK,EAAEhB,MAAM,CAACG,QAFhB;AAGE,MAAA,IAAI,EAAC,MAHP;AAIE,MAAA,QAAQ,EAAEa,gBAJZ;AAKE,MAAA,WAAW,EAAC;AALd;AAAA;AAAA;AAAA;AAAA,YAVF,EAiBGhB,MAAM,CAACO,SAAP,gBACC;AAAG,MAAA,SAAS,EAAC,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADD,GAGC,EApBJ,eAsBE;AACE,MAAA,IAAI,EAAC,OADP;AAEE,MAAA,KAAK,EAAEP,MAAM,CAACI,KAFhB;AAGE,MAAA,IAAI,EAAC,OAHP;AAIE,MAAA,QAAQ,EAAEO,cAJZ;AAKE,MAAA,WAAW,EAAC;AALd;AAAA;AAAA;AAAA;AAAA,YAtBF,EA6BGX,MAAM,CAACQ,UAAP,gBACC;AAAG,MAAA,SAAS,EAAC,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADD,GAGC,EAhCJ,eAkCE;AACE,MAAA,IAAI,EAAC,OADP;AAEE,MAAA,KAAK,EAAER,MAAM,CAACK,KAFhB;AAGE,MAAA,IAAI,EAAC,MAHP;AAIE,MAAA,QAAQ,EAAEa,kBAJZ;AAKE,MAAA,WAAW,EAAC;AALd;AAAA;AAAA;AAAA;AAAA,YAlCF,eAyCE;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA,8BACE;AAAO,QAAA,OAAO,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AACE,QAAA,IAAI,EAAC,OADP;AAEE,QAAA,IAAI,EAAC,KAFP;AAGE,QAAA,QAAQ,EAAEP,cAHZ;AAIE,QAAA,EAAE,EAAC,MAJL;AAKE,QAAA,KAAK,EAAC,MALR;AAME,QAAA,OAAO,EAAEX,MAAM,CAACM,GAAP,KAAe,MAAf,GAAwB,IAAxB,GAA+B;AAN1C;AAAA;AAAA;AAAA;AAAA,cAFF,eAUE;AAAO,QAAA,OAAO,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAVF,eAWE;AACE,QAAA,IAAI,EAAC,OADP;AAEE,QAAA,IAAI,EAAC,KAFP;AAGE,QAAA,QAAQ,EAAEK,cAHZ;AAIE,QAAA,EAAE,EAAC,QAJL;AAKE,QAAA,KAAK,EAAC,QALR;AAME,QAAA,OAAO,EAAEX,MAAM,CAACM,GAAP,KAAe,QAAf,GAA0B,IAA1B,GAAiC;AAN5C;AAAA;AAAA;AAAA;AAAA,cAXF;AAAA;AAAA;AAAA;AAAA;AAAA,YAzCF,eA6DE;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YA7DF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAiED,CA3JD;;GAAMR,I;;KAAAA,I;AA4JN,eAAeA,IAAf","sourcesContent":["import { useState } from \"react\";\r\nimport axios from \"axios\";\r\nconst Form = (props) => {\r\n  const [values, setValues] = useState({\r\n    firstName: \"\",\r\n    lastName: \"\",\r\n    email: \"\",\r\n    phone: \"\",\r\n    sex: \"\",\r\n    nameError: false,\r\n    emailError: false,\r\n    phoneError: false,\r\n    sexError: false,\r\n  });\r\n\r\n  const handleOnchange = (event) => {\r\n    setValues({ ...values, [event.target.name]: event.target.value });\r\n  };\r\n\r\n  const handleChangeName = (event) => {\r\n    setValues({\r\n      ...values,\r\n      [event.target.name]: event.target.value.replace(/[^a-zA-Zก-ฮะ-์]/gi, \"\"),\r\n      nameError: false,\r\n    });\r\n  };\r\n  const handleChangeNumber = (event) => {\r\n    setValues({\r\n      ...values,\r\n      [event.target.name]: event.target.value.replace(/\\D/g, \"\"),\r\n      [event.target.name + \"Error\"]: false,\r\n    });\r\n  };\r\n\r\n  const handleOnsubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    if (!values.firstName || !values.lastName) {\r\n      setValues({ ...values, nameError: true });\r\n      return;\r\n    }\r\n    if (!values.email.includes(\"@\") || !values.email.includes(\".\")) {\r\n      setValues({ ...values, emailError: true });\r\n      return;\r\n    }\r\n    if (!values.phone) {\r\n      setValues({ ...values, phoneError: true });\r\n      return;\r\n    }\r\n    if (!values.sex) {\r\n      setValues({ ...values, sexError: true });\r\n      return;\r\n    }\r\n    const jsonData = {\r\n      firstName: values.firstName,\r\n      lastName: values.lastName,\r\n      email: values.email,\r\n      phone: values.phone,\r\n      sex: values.sex,\r\n    };\r\n\r\n    axios\r\n      .post(\"http://localhost:3333/append\", jsonData)\r\n      .then((res) => {\r\n        if (\r\n          res.data.message !== undefined &&\r\n          res.data.message.includes(\"duplicate\")\r\n        ) {\r\n          alert(jsonData.email + \" ลงทะเบียนซ้ำ\");\r\n        }\r\n        if (res.data.status === \"ok\") {\r\n          props.onAppend(res.data.result);\r\n          setValues({\r\n            firstName: \"\",\r\n            lastName: \"\",\r\n            email: \"\",\r\n            phone: \"\",\r\n            sex: \"\",\r\n          });\r\n        }\r\n        setValues({\r\n          firstName: \"\",\r\n          lastName: \"\",\r\n          email: \"\",\r\n          phone: \"\",\r\n          sex: \"\",\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error:\", error);\r\n      });\r\n  };\r\n  return (\r\n    <form onSubmit={handleOnsubmit}>\r\n      <h1 style={{ textAlign: \"center\" }}>Demo Form</h1>\r\n      <input\r\n        name=\"firstName\"\r\n        value={values.firstName}\r\n        type=\"text\"\r\n        onChange={handleChangeName}\r\n        placeholder=\"First name\"\r\n      />\r\n\r\n      <input\r\n        name=\"lastName\"\r\n        value={values.lastName}\r\n        type=\"text\"\r\n        onChange={handleChangeName}\r\n        placeholder=\"Last name\"\r\n      />\r\n      {values.nameError ? (\r\n        <p className=\"textError\">ชื่อ-นามสกุลที่คุณป้อนไม่ถูกต้อง</p>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n      <input\r\n        name=\"email\"\r\n        value={values.email}\r\n        type=\"email\"\r\n        onChange={handleOnchange}\r\n        placeholder=\"email\"\r\n      />\r\n      {values.emailError ? (\r\n        <p className=\"textError\">ชื่อ-นามสกุลที่คุณป้อนไม่ถูกต้อง</p>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n      <input\r\n        name=\"phone\"\r\n        value={values.phone}\r\n        type=\"text\"\r\n        onChange={handleChangeNumber}\r\n        placeholder=\"phone\"\r\n      />\r\n      <div className=\"gender\">\r\n        <label htmlFor=\"male\">Male</label>\r\n        <input\r\n          type=\"radio\"\r\n          name=\"sex\"\r\n          onChange={handleOnchange}\r\n          id=\"male\"\r\n          value=\"male\"\r\n          checked={values.sex === \"male\" ? true : false}\r\n        />\r\n        <label htmlFor=\"female\">Female</label>\r\n        <input\r\n          type=\"radio\"\r\n          name=\"sex\"\r\n          onChange={handleOnchange}\r\n          id=\"female\"\r\n          value=\"female\"\r\n          checked={values.sex === \"female\" ? true : false}\r\n        />\r\n      </div>\r\n      <button type=\"submit\">Update</button>\r\n    </form>\r\n  );\r\n};\r\nexport default Form;\r\n"]},"metadata":{},"sourceType":"module"}